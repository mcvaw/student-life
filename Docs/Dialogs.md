# Система диалогов

Доступ к диалогу может быть получен через файл с его номером в папке `Dialogs`. Расширение у файлов - `*.tres`. Скрипт требует, чтобы корень текущей сцены назывался `Node2D`, а в нем был `Position2D` для позиционирования левого верхнего угла интерфейса.

## Формат файла

Каждый файл представлен в `json`-формате. У него обязательно должен быть ключ "0", с которого начнется диалог.

## Формат фразы

Каждая фраза должна иметь ключи `name` и `text` для имени и текста соответственно. Опционально может идти ключ для следующей фразы `next`, иначе диалог закончится.

## Пример

```json
{
    "0": { "name": "Первый человек", "text": "Привет!", "next": "1" },
    "1": { "name": "Второй человек", "text": "Рад тебя видеть" }
}
```

## Запуск диалога из игры

Пример запуска диалога #1

```GDScript
var dialog_number = 1
get_node("/root/d_obj").show_dialog(dialog_number)
```

## Управление

Диалоги реагируют как на нажатие кнопки в самом диалоге, так и на событие `ui_accept`.

## Номера диалогов и их содержание
1. Ректор - выбор факультета
2. Мистер Дудец - первое знакомство
3. Некто в начале - прощай
4. Диалог в поезде про скорое прибытие
5. Проводник - мехмат
6. Проводник - геофак
7. Проводник - гумфак

## Активация диалога при помощи шаблона (рекомендуется)
В игре существует сцена `Dialog_trigger`, которая позволяет задать имя персонажа и номер вызываемого диалога. При попадании персонажа в область объекта, появится окно с именем персонажа и кнопкой подтверждения. Если на нее нажать, то начнется диалог.
