# Аудио-система

Игра использует 3 звуковые шины: OST, FX и Ambient.
Их громкость восстанавливает скрипт при старте игры. Изменить ее можно через настройки.
* OST предназначен для музыки
* FX предназначен для эффектов
* Ambient накладывает эффекты реверберации и выводит результат через FX

## Воспроизведение звука

Для воспроизведения музыки в фоне можно использовать метод `play_sound` объекта `ost`. Текущая песня заменяется новой. Функция принимает на вход String`.

```GDScript
# Загрузить музыку из файла
sound := "res://music.ogg"
# Начать играть ее в фоне
get_node("/root/ost").play_sound(sound)
```

Для воспроизведения коротких звуков есть объект `fx`. Он воспроизводит все звуки параллельно. Схема работы похожа.

```GDScript
sound = load("res://sound.wav")
get_node("/root/fx").play_sound(sound)
```

Существует отдельная функция для воспроизведения звука нажатия на кнопку, просто для удобства.

```GDScript
get_node("/root/fx").btn_click()
```

## Изменение громкости

Для изменения громкости у объектов ost и fx есть параметр `volume`. Это простой способ управлять громкостью соответствующих шин.
```GDScript
# Установить громкость ost на value
get_node("/root/ost").volume = value
# Для fx
get_node("/root/fx").fx = value
```

## Затухание
OST поддерживает плавное снижение громкости, отключение проигрываемой музыки и затем восстановление прежнего уровня громкости.
```GDScript
get_node("/root/ost").fade_out()
```
