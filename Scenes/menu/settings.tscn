[gd_scene load_steps=2 format=2]

[sub_resource type="GDScript" id=1]
resource_name = "Main"
script/source = "extends Control

# Sliders
onready var slider_ost = get_node(\"ColorRect/VBoxContainer/VBoxContainer/HSlider\")
onready var slider_fx = get_node(\"ColorRect/VBoxContainer/VBoxContainer2/HSlider\")

# Global objects
onready var ost = get_tree().get_root().get_node(\"/root/ost\")
onready var fx = get_tree().get_root().get_node(\"/root/fx\")

# Labels
onready var ost_text = get_node(\"ColorRect/VBoxContainer/VBoxContainer/HBoxContainer/Label\")
onready var fx_text = get_node(\"ColorRect/VBoxContainer/VBoxContainer2/HBoxContainer/Label\")

# Main scene
var return_to = \"res://Scenes/menu/menu.tscn\"

func upd_label(val):
	ost_text.text = \"Vol: \" + str(val) + \"db\"


func upd_fx(val):
	fx_text.text = \"Vol: \" + str(val) + \"db\"


func _on_HSlider_value_changed(value):
	ost.volume_db = value
	upd_label(value)


func _on_HSliderFX_value_changed(value):
	fx.volume_db = value
	upd_fx(value)


func _on_Button_pressed():
	slider_ost.value = 0


func _on_ButtonFX_pressed():
	slider_fx.value = 0


func _on_ButtonBack_pressed():
	assert(get_tree().change_scene(return_to) == OK)


func _ready():
	slider_ost.value = ost.volume_db
	slider_fx.value = fx.volume_db
	upd_label(ost.volume_db)
	upd_fx(fx.volume_db)"

[node name="Control" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = SubResource( 1 )

[node name="ColorRect" type="ColorRect" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0, 0, 0, 1 )

[node name="VBoxContainer" type="VBoxContainer" parent="ColorRect"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Label" type="Label" parent="ColorRect/VBoxContainer"]
margin_right = 1280.0
margin_bottom = 177.0
size_flags_vertical = 3
text = "Settings"
align = 1
valign = 1

[node name="VBoxContainer" type="VBoxContainer" parent="ColorRect/VBoxContainer"]
margin_top = 181.0
margin_right = 1280.0
margin_bottom = 358.0
size_flags_vertical = 3

[node name="Label" type="Label" parent="ColorRect/VBoxContainer/VBoxContainer"]
margin_right = 1280.0
margin_bottom = 32.0
text = "Music volume"
align = 1
valign = 1

[node name="HSlider" type="HSlider" parent="ColorRect/VBoxContainer/VBoxContainer"]
margin_top = 36.0
margin_right = 1280.0
margin_bottom = 52.0
size_flags_horizontal = 3
size_flags_vertical = 1
min_value = -80.0
max_value = 24.0
step = 4.0
tick_count = 14

[node name="HBoxContainer" type="HBoxContainer" parent="ColorRect/VBoxContainer/VBoxContainer"]
margin_top = 56.0
margin_right = 1280.0
margin_bottom = 94.0

[node name="Button" type="Button" parent="ColorRect/VBoxContainer/VBoxContainer/HBoxContainer"]
margin_right = 172.0
margin_bottom = 38.0
text = "Reset"

[node name="Label" type="Label" parent="ColorRect/VBoxContainer/VBoxContainer/HBoxContainer"]
margin_left = 176.0
margin_top = 3.0
margin_right = 1280.0
margin_bottom = 35.0
size_flags_horizontal = 3
text = "Vol:"
align = 1

[node name="VBoxContainer2" type="VBoxContainer" parent="ColorRect/VBoxContainer"]
margin_top = 362.0
margin_right = 1280.0
margin_bottom = 539.0
size_flags_vertical = 3

[node name="Label" type="Label" parent="ColorRect/VBoxContainer/VBoxContainer2"]
margin_right = 1280.0
margin_bottom = 32.0
text = "FX volume"
align = 1
valign = 1

[node name="HSlider" type="HSlider" parent="ColorRect/VBoxContainer/VBoxContainer2"]
margin_top = 36.0
margin_right = 1280.0
margin_bottom = 52.0
min_value = -80.0
max_value = 24.0
step = 4.0
tick_count = 14

[node name="HBoxContainer" type="HBoxContainer" parent="ColorRect/VBoxContainer/VBoxContainer2"]
margin_top = 56.0
margin_right = 1280.0
margin_bottom = 94.0

[node name="Button" type="Button" parent="ColorRect/VBoxContainer/VBoxContainer2/HBoxContainer"]
margin_right = 172.0
margin_bottom = 38.0
text = "Reset"

[node name="Label" type="Label" parent="ColorRect/VBoxContainer/VBoxContainer2/HBoxContainer"]
margin_left = 176.0
margin_top = 3.0
margin_right = 1280.0
margin_bottom = 35.0
size_flags_horizontal = 3
text = "Vol:"
align = 1

[node name="Button" type="Button" parent="ColorRect/VBoxContainer"]
margin_top = 543.0
margin_right = 1280.0
margin_bottom = 720.0
size_flags_vertical = 3
text = "Back to menu"
[connection signal="value_changed" from="ColorRect/VBoxContainer/VBoxContainer/HSlider" to="." method="_on_HSlider_value_changed"]
[connection signal="pressed" from="ColorRect/VBoxContainer/VBoxContainer/HBoxContainer/Button" to="." method="_on_Button_pressed"]
[connection signal="value_changed" from="ColorRect/VBoxContainer/VBoxContainer2/HSlider" to="." method="_on_HSliderFX_value_changed"]
[connection signal="pressed" from="ColorRect/VBoxContainer/VBoxContainer2/HBoxContainer/Button" to="." method="_on_ButtonFX_pressed"]
[connection signal="pressed" from="ColorRect/VBoxContainer/Button" to="." method="_on_ButtonBack_pressed"]
