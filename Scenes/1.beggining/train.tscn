[gd_scene load_steps=6 format=2]

[ext_resource path="res://Sprites/backgrounds/field.png" type="Texture" id=1]
[ext_resource path="res://Sprites/train/train_front.png" type="Texture" id=2]
[ext_resource path="res://Sprites/circle.png" type="Texture" id=3]
[ext_resource path="res://Sprites/train/train_main.png" type="Texture" id=4]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D


export (String, FILE, \"*.tscn\") var next_scene
# Начальные координаты поезда
export var start_pos : = Vector2(-1300, 0)
# Конечные координаты поезда
export var end_pos : = Vector2(9500, 0)
# Начальные координаты камеры
export var offset_start : = Vector2(20, 80)
# Конечные координаты камеры
export var offset_end : = Vector2(170, 80)
# Длительность анимации
export (float, 7, 12) var time = 9
onready var obj = $Node2D
onready var cam = $Camera2D
onready var effect = $Tween


func _ready() -> void:
	# Анимация поезда
	effect.interpolate_property(obj, \"position\",
		start_pos, end_pos, time, Tween.TRANS_LINEAR)
	# Анимация камеры
	effect.interpolate_property(cam, \"offset\",
		offset_start, offset_end, time, Tween.TRANS_LINEAR)
	effect.start()
	yield(get_tree().create_timer(time), \"timeout\")
	get_node(\"/root/scene_loader\").load_scene(next_scene, false)
"

[node name="Node2D" type="Node2D"]
script = SubResource( 1 )
next_scene = "res://Scenes/street.tscn"

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0.513726, 0.439216, 0.439216, 1 )

[node name="Sprite" type="Sprite" parent="."]
position = Vector2( 961.126, 541.858 )
scale = Vector2( 14.9824, 16.7737 )
texture = ExtResource( 1 )

[node name="Node2D" type="Node2D" parent="."]
position = Vector2( 9500, 0 )

[node name="Light2D" type="Light2D" parent="Node2D"]
position = Vector2( 927.168, 948.885 )
scale = Vector2( 31.402, 3.14264 )
texture = ExtResource( 3 )
energy = 0.58

[node name="Sprite2" type="Sprite" parent="Node2D"]
position = Vector2( 440, 855 )
scale = Vector2( 13.8132, 16.7737 )
texture = ExtResource( 2 )

[node name="Sprite10" type="Sprite" parent="Node2D"]
position = Vector2( -6652.11, 855.311 )
scale = Vector2( 13.8132, 16.7737 )
texture = ExtResource( 2 )

[node name="Sprite3" type="Sprite" parent="Node2D"]
position = Vector2( -449.006, 862.099 )
scale = Vector2( 11.0058, 13.3647 )
texture = ExtResource( 4 )

[node name="Sprite4" type="Sprite" parent="Node2D"]
position = Vector2( -1334.63, 862.611 )
scale = Vector2( 11.0058, 13.3647 )
texture = ExtResource( 4 )

[node name="Sprite5" type="Sprite" parent="Node2D"]
position = Vector2( -2219.63, 862.611 )
scale = Vector2( 11.0058, 13.3647 )
texture = ExtResource( 4 )

[node name="Sprite6" type="Sprite" parent="Node2D"]
position = Vector2( -3104.63, 862.611 )
scale = Vector2( 11.0058, 13.3647 )
texture = ExtResource( 4 )

[node name="Sprite7" type="Sprite" parent="Node2D"]
position = Vector2( -3989.63, 862.611 )
scale = Vector2( 11.0058, 13.3647 )
texture = ExtResource( 4 )

[node name="Sprite8" type="Sprite" parent="Node2D"]
position = Vector2( -4874.63, 862.611 )
scale = Vector2( 11.0058, 13.3647 )
texture = ExtResource( 4 )

[node name="Sprite9" type="Sprite" parent="Node2D"]
position = Vector2( -5759.63, 862.611 )
scale = Vector2( 11.0058, 13.3647 )
texture = ExtResource( 4 )

[node name="Camera2D" type="Camera2D" parent="."]
offset = Vector2( 170, 80 )
anchor_mode = 0
current = true
zoom = Vector2( 0.9, 0.9 )

[node name="Tween" type="Tween" parent="."]
