[gd_scene load_steps=3 format=2]

[ext_resource path="res://Sprites/outside/bridge_half.png" type="Texture" id=1]


[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

export (NodePath) var upper
export (NodePath) var lower


func _on_body_entered(body):
	if \"Body\" in body.name:
		if has_node(\"/root/Node2D/Body\"):
			get_node(\"/root/Node2D/Body\").water_protection = true
		get_node(upper).disabled = false
		get_node(lower).disabled = true


func _on_body_exited(body):
	if \"Body\" in body.name:
		if has_node(\"/root/Node2D/Body\"):
			get_node(\"/root/Node2D/Body\").water_protection = false
		get_node(upper).disabled = true
		get_node(lower).disabled = false
"

[node name="Bridge" type="Node2D"]
script = SubResource( 1 )
upper = NodePath("StaticBody2D/upper")
lower = NodePath("StaticBody2D/lower")

[node name="Sprite" type="Sprite" parent="."]
texture = ExtResource( 1 )

[node name="Sprite2" type="Sprite" parent="."]
position = Vector2( 44, 0 )
texture = ExtResource( 1 )
flip_h = true

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
visible = false
polygon = PoolVector2Array( -21.7829, 10.1365, -11.9253, 4.6858, 1.80129, 1.87228, 14.1011, 1.30794, 29.6223, 1.30794, 41.4412, 2.16232, 54.9988, 4.51529, 65.6487, 9.99414, 65.7911, 12.1301, 59.4379, 9.725, 44.1769, 5.57403, 31.8461, 4.59733, 17.3533, 5.85217, 1.31081, 5.00195, -12.3495, 8.38204, -22.0677, 12.2725 )

[node name="upper" type="CollisionPolygon2D" parent="StaticBody2D"]
visible = false
position = Vector2( 40.7691, -17.4259 )
rotation = 3.14159
polygon = PoolVector2Array( -23.7558, 2.09147, -19.9096, 3.14042, -4.69979, 5.41315, 10.51, 5.41315, 24.4438, 5.50009, 39.5948, 5.50009, 54.4753, 5.36481, 65.0269, 1.98289, 65.3131, -3.83401, 54.3557, 0.224291, 39.7582, 0.142403, 24.8864, 0.0713634, 10.3399, 0.144461, -4.63304, -0.0645485, -19.8799, -1.32894, -23.658, -3.16227 )
disabled = true

[node name="lower" type="CollisionPolygon2D" parent="StaticBody2D"]
visible = false
position = Vector2( 40.7691, -17.4259 )
rotation = 3.14159
polygon = PoolVector2Array( -24.997, -15.1865, -18.3702, -12.5042, -5.43223, -8.7175, 9.55689, -5.24634, 24.7038, -5.08856, 39.0618, -7.61304, 55.3132, -11.7153, 62.7288, -14.7132, 62.8866, -16.9221, 55.3132, -14.082, 39.0618, -9.34863, 24.546, -6.82414, 9.55689, -6.98192, -5.27446, -10.1375, -18.3702, -14.5554, -25.1548, -17.3954 )

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 1024

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Area2D"]
visible = false
polygon = PoolVector2Array( -26.9788, 5.73478, -15.8204, 1.47282, -5.32805, -1.97468, 11.4598, -5.27229, 32.1448, -5.42218, 49.5322, -2.27446, 59.2751, 1.47282, 71.4695, 7.00437, 71.4695, 11.6211, 57.1766, 5.51988, 49.3823, 3.42141, 32.1448, 1.17303, 11.7596, 1.32293, -4.87838, 3.12162, -15.071, 6.41923, -27.0598, 12.0524 )
[connection signal="body_entered" from="Area2D" to="." method="_on_body_entered"]
[connection signal="body_exited" from="Area2D" to="." method="_on_body_exited"]
