[gd_scene load_steps=4 format=2]

[ext_resource path="res://Sprites/fireworks/stairs.png" type="Texture" id=1]
[ext_resource path="res://Audio/fx/steps/footstep1.wav" type="AudioStream" id=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

export (String, FILE, \"*.tscn\") var scene_path

onready var cam = $Camera2D
onready var tween = $Tween
onready var audio = $AudioStreamPlayer
var count = 0


func move() -> void:
	audio.play()
	if count < 2:
		var x = cam.position.x
		var y_pos = cam.position.y
		tween.interpolate_property(
			cam, \"position\",
			Vector2(x, y_pos), Vector2(x, y_pos-300),
			0.4, Tween.TRANS_QUAD, Tween.EASE_IN_OUT)
		tween.interpolate_property(
			cam, \"zoom\",
			Vector2(0.55, 0.55), Vector2(0.6, 0.6),
			0.2, Tween.TRANS_QUAD, Tween.EASE_IN_OUT)
		tween.interpolate_property(
			cam, \"zoom\",
			Vector2(0.6, 0.6), Vector2(0.55, 0.55),
			0.2, Tween.TRANS_QUAD, Tween.EASE_IN_OUT, 0.2)
		tween.start()
		count += 1
	else:
		SCENES.load_scene(scene_path)


func _process(delta) -> void:
	if Input.is_action_just_pressed(\"ui_accept\"):
		move()


func _ready() -> void:
	audio.play()
"

[node name="Node2D" type="Node2D"]
script = SubResource( 1 )
scene_path = "res://Scenes/Beginning/02.Fireworks.tscn"

[node name="ColorRect" type="ColorRect" parent="."]
margin_left = -8.0
margin_top = -400.0
margin_right = 1960.0
margin_bottom = 1144.0
color = Color( 0.121569, 0.223529, 0.141176, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="stairs" type="Sprite" parent="."]
position = Vector2( 960, 384 )
scale = Vector2( 20, 20 )
texture = ExtResource( 1 )

[node name="stairs4" type="Sprite" parent="."]
position = Vector2( 960, 704 )
scale = Vector2( 20, 20 )
texture = ExtResource( 1 )

[node name="stairs5" type="Sprite" parent="."]
position = Vector2( 960, 1024 )
scale = Vector2( 20, 20 )
texture = ExtResource( 1 )

[node name="stairs2" type="Sprite" parent="."]
position = Vector2( 960, 64 )
scale = Vector2( 20, 20 )
texture = ExtResource( 1 )

[node name="stairs3" type="Sprite" parent="."]
position = Vector2( 960, -256 )
scale = Vector2( 20, 20 )
texture = ExtResource( 1 )

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0.494118, 0.494118, 0.494118, 1 )

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 968, 760 )
current = true
zoom = Vector2( 0.55, 0.55 )

[node name="Button" type="Button" parent="Camera2D"]
margin_left = -592.0
margin_top = -344.0
margin_right = 584.0
margin_bottom = 352.0
flat = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Tween" type="Tween" parent="."]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 2 )
[connection signal="pressed" from="Camera2D/Button" to="." method="move"]
