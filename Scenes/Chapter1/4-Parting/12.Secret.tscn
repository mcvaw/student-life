[gd_scene load_steps=7 format=2]

[ext_resource path="res://Scenes/Templates/Basement/Basement.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Templates/Computer_UI.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/ui/Enable.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Triggers/LoadOnEnter.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Triggers/LoadScene.tscn" type="PackedScene" id=5]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

export (String, FILE, \"*.tscn\") var prev
export (String, FILE, \"*.tscn\") var next_scene
export (PackedScene) var comp
onready var player = $Body


func go_back():
	SCENES.load_scene(prev)


func computer():
	player.lock()
	UI.add_child(comp.instance())


func next():
	yield(get_tree().create_timer(2), \"timeout\")
	SCENES.load_scene(next_scene, false, false)
"

[node name="Secret-Scene" type="Node2D"]
script = SubResource( 1 )
prev = "res://Scenes/Chapter1/4-Parting/10.Stairs.tscn"
next_scene = "res://Scenes/Chapter1/4-Parting/13.KillScene.tscn"
comp = ExtResource( 2 )

[node name="Map" parent="." instance=ExtResource( 1 )]

[node name="Trigger" parent="." instance=ExtResource( 4 )]
position = Vector2( 720, -320 )
scale = Vector2( 8, 3 )
z_index = 1
scene = "res://Scenes/Chapter1/4-Basement/5.KillScene.tscn"
fade_in = false
fade_out = false

[node name="LoadScene" parent="." instance=ExtResource( 5 )]
position = Vector2( -128, -8 )
label = "GO_BACK"
scene_path = "res://Scenes/Chapter1/4-Basement/2.Stairs.tscn"

[node name="Enable-UI" parent="." instance=ExtResource( 3 )]
joystick = true
