[gd_scene load_steps=7 format=2]

[ext_resource path="res://Scenes/templates/Basement/Basement.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/triggers/FunctionCaller.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/ui/Enable.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/triggers/LoadOnEnter.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scenes/templates/Computer_UI.tscn" type="PackedScene" id=8]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

export (String, FILE, \"*.tscn\") var prev
export (String, FILE, \"*.tscn\") var next_scene
export (PackedScene) var comp
onready var player = $Body


func go_back():
	SCENES.load_scene(prev)


func computer():
	player.lock()
	UI.add_child(comp.instance())


func next():
	yield(get_tree().create_timer(2), \"timeout\")
	SCENES.load_scene(next_scene, false, false)
"

[node name="Secret-Scene" type="Node2D"]
script = SubResource( 1 )
prev = "res://Scenes/Basement/2.Stairs.tscn"
next_scene = "res://Scenes/Basement/5.Kill_scene.tscn"
comp = ExtResource( 8 )

[node name="Map" parent="." instance=ExtResource( 1 )]

[node name="GoBack;FunctionCaller-Trigger_Area2D" parent="." instance=ExtResource( 2 )]
position = Vector2( -144, -8 )
label = "GO_BACK"
object_name = NodePath("..")
function_name = "go_back"

[node name="LoadOnEnter-Trigger" parent="." instance=ExtResource( 7 )]
position = Vector2( 720, -320 )
scale = Vector2( 8, 3 )
z_index = 1
scene = "res://Scenes/Basement/5.Kill_scene.tscn"
fade_in = false
fade_out = false

[node name="Computer;FunctionCaller-Trigger_Area2D_0" parent="." instance=ExtResource( 2 )]
position = Vector2( 576, -192 )
label = "COMPUTER"
object_name = NodePath("..")
function_name = "computer"

[node name="Enable-UI" parent="." instance=ExtResource( 5 )]
joystick = true
